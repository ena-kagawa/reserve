<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spiritual Counselor ENA</title>
  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background: linear-gradient(to bottom right, #ffe6f0, #f3e6ff);
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #c36aa0;
      text-align: center;
      margin-bottom: 10px;
    }
    p, label {
      font-size: 1rem;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 1rem;
    }
    button {
      background-color: #d290c1;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
    }
    button:hover {
      background-color: #b76ca6;
    }
    .note {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 10px;
    }
    .footer {
      text-align: center;
      margin-top: 30px;
      font-size: 0.9rem;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Spiritual Counselor ENA</h1>
    <p class="note">※ 6月8日限定：以下の時間枠からお選びください（13:45〜14:15除く）<br>
      11:00 / 11:30 / 12:00 / 12:30 / 13:00 / 13:20 / 14:15 / 14:40 / 15:00 / 15:30 / 16:00 / 16:30<br>
      または「17:30以降」または「別日」を選択（注意書きあり）
    </p>
    <p class="note">※ お時間が多少前後する場合がございます。当日お声がけしますので、連絡先電話番号か当日の服装の特徴をご記入ください。</p>
    <form name="reservation-form">
      <label for="name">① お名前またはニックネーム</label>
      <input type="text" id="name" name="name" required />

      <label for="time">② ご希望の時間枠（20分／30分／40分）</label>
      <select id="time" name="time" required>
        <option value="">選択してください</option>
        <option>11:00</option>
        <option>11:30</option>
        <option>12:00</option>
        <option>12:30</option>
        <option>13:00</option>
        <option>13:20</option>
        <option>14:15</option>
        <option>14:40</option>
        <option>15:00</option>
        <option>15:30</option>
        <option>16:00</option>
        <option>16:30</option>
        <option>17:30以降（別場所・ZOOM対応）</option>
        <option>別日希望（ZOOM対応）</option>
      </select>

      <label for="contact">③ 連絡先電話番号または服装の特徴（お時間前後時のご連絡用）</label>
      <input type="text" id="contact" name="contact" required />

      <label for="message">④ ご相談内容（任意）</label>
      <textarea id="message" name="message" rows="4"></textarea>

      <button type="submit">予約する</button>
    </form>

    <div class="footer">
      <p>公式LINE：<a href="https://lin.ee/q45EjmR" target="_blank">https://lin.ee/q45EjmR</a></p>
      <p>Instagram：<a href="https://www.instagram.com/ena.kagawa/" target="_blank">https://www.instagram.com/ena.kagawa/</a></p>
      <p>ご予約後、この画面に内容が残り、変更・キャンセルも可能です（自動返信メールはありません）。</p>
    </div>
  </div>

  <script>
    document.querySelector('form').addEventListener('submit', async function(event) {
      event.preventDefault();

      const formData = new FormData(this);
      const data = {
        name: formData.get('name'),
        time: formData.get('time'),
        contact: formData.get('contact'),
        message: formData.get('message')
      };

      const GAS_URL = 'https://script.google.com/macros/s/AKfycbz60HeOhdJs07rCN03HkGK4LFoZD6gw0b2_XX0MwT4CCUWELw5f3L5t7cZ_Kbho7Nk/exec';

      try {
        await fetch(GAS_URL, {
          method: 'POST',
          mode: 'no-cors',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        alert('予約を受け付けました。画面をそのまま残してお使いください。');
      } catch (error) {
        alert('送信中にエラーが発生しました。もう一度お試しください。');
      }
    });
  </script>
</body>
</html>
